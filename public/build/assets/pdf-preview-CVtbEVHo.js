import{r as h,o as S,a as C,b as r,e as i,m as e,x as s,p as l,l as o,y as c,F as b,q as f}from"./app-BGceXl1h.js";const B={class:"min-h-screen bg-white"},P={class:"flex items-center gap-2"},j={class:"flex items-center"},L={class:"flex-shrink-0"},A={class:"flex items-center"},M={class:"flex-shrink-0"},E={class:"flex items-center"},z={class:"flex-shrink-0"},K={key:0,class:"mb-8"},V={class:"overflow-x-auto bg-white border border-gray-200 rounded-lg"},F={class:"min-w-full divide-y divide-gray-200"},N={class:"bg-green-50"},I={key:0,class:"text-left font-semibold text-gray-700 uppercase tracking-wider px-6 py-3 text-sm"},H={key:1,class:"text-left font-semibold text-gray-700 uppercase tracking-wider px-6 py-3 text-sm"},O={class:"bg-white divide-y divide-gray-200"},U={key:0,class:"whitespace-nowrap text-gray-900 px-6 py-4 text-sm"},R={key:1,class:"text-gray-900 px-6 py-4 text-sm"},J={class:"bg-green-50 font-bold"},q=["colspan"],G={key:0},W={key:1},Y={class:"overflow-x-auto bg-white border border-gray-200 rounded-lg"},Q={class:"min-w-full divide-y divide-gray-200"},X={class:"bg-red-50"},Z={key:0,class:"text-left font-semibold text-gray-700 uppercase tracking-wider px-6 py-3 text-sm"},$={key:1,class:"text-left font-semibold text-gray-700 uppercase tracking-wider px-6 py-3 text-sm"},_={class:"bg-white divide-y divide-gray-200"},ee={key:0,class:"whitespace-nowrap text-gray-900 px-6 py-4 text-sm"},te={key:1,class:"text-gray-900 px-6 py-4 text-sm"},se={class:"bg-red-50 font-bold"},ae=["colspan"],le={key:0},ne={key:2,class:"text-center py-12"},re={class:"text-gray-500"},ie={class:"mt-1"},de={__name:"pdf-preview",props:{selectedMonth:String,monthLabel:String,periodStart:String,periodEnd:String,summary:Object,incomeTransactions:Array,expenseTransactions:Array,user:Object,generatedAt:String},setup(a){const w=a,t=h(!1),m=h(!1),v=()=>{const x=window.innerWidth;t.value=x<640,m.value=x>=640&&x<1024};S(()=>{v(),window.addEventListener("resize",v),setTimeout(()=>{window.location.search.includes("print=true")&&window.print()},1e3)}),C(()=>{window.removeEventListener("resize",v)});const u=x=>x==null?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(x),y=x=>new Date(x).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),k=()=>{const x=route("reports.download-pdf",{month:w.selectedMonth});window.open(x,"_blank")},T=()=>{window.print()},D=()=>{window.history.length>1?window.history.back():window.close()};return(x,n)=>(i(),r("div",B,[e("div",{class:s(["no-print sticky top-0 bg-white border-b border-gray-200 shadow-sm z-10",[t.value?"p-3":"p-4"]])},[e("div",{class:s(["flex items-center justify-between gap-4",[t.value?"flex-col":"flex-row"]])},[e("div",P,[e("button",{onClick:D,class:s(["flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",[t.value?"text-sm":"text-base"]])},n[0]||(n[0]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),e("span",null,"Kembali",-1)]),2),n[1]||(n[1]=e("span",{class:"text-gray-400"},"|",-1)),e("h1",{class:s(["font-semibold text-gray-900",[t.value?"text-sm":"text-lg"]])}," Preview Laporan "+l(a.monthLabel),3)]),e("div",{class:s(["flex gap-2",[t.value?"w-full":""]])},[e("button",{onClick:T,class:s(["flex items-center justify-center gap-2 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg transition-colors",[t.value?"px-3 py-2 text-sm flex-1":"px-4 py-2"]])},n[2]||(n[2]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),e("span",null,"Cetak",-1)]),2),e("button",{onClick:k,class:s(["flex items-center justify-center gap-2 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors",[t.value?"px-3 py-2 text-sm flex-1":"px-4 py-2"]])},n[3]||(n[3]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("span",null,"Download PDF",-1)]),2)],2)],2)],2),e("div",{class:s(["max-w-4xl mx-auto bg-white",[t.value?"p-4":m.value?"p-6":"p-8"]])},[e("div",{class:s(["text-center border-b-4 border-blue-600 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-t-lg",[t.value?"p-4 mb-6":m.value?"p-6 mb-8":"p-8 mb-10"]])},[e("div",{class:s(["font-bold mb-2",[t.value?"text-xl":m.value?"text-2xl":"text-3xl"]])}," 📊 SmartBook Keeper ",2),e("div",{class:s(["font-semibold mb-3",[t.value?"text-lg":m.value?"text-xl":"text-2xl"]])}," Laporan Keuangan "+l(a.monthLabel),3),e("div",{class:s(["text-blue-100",[t.value?"text-xs space-y-1":"text-sm space-y-1"]])},[e("div",null,[n[4]||(n[4]=e("strong",null,"Periode:",-1)),c(" "+l(a.periodStart)+" - "+l(a.periodEnd),1)]),e("div",null,[n[5]||(n[5]=e("strong",null,"Pengguna:",-1)),c(" "+l(a.user.name),1)]),e("div",null,[n[6]||(n[6]=e("strong",null,"Dicetak pada:",-1)),c(" "+l(a.generatedAt),1)])],2)],2),e("div",{class:s(["grid gap-4 mb-8",[t.value?"grid-cols-1":"grid-cols-3"]])},[e("div",{class:s(["bg-green-50 border-l-4 border-green-500 rounded-lg shadow-sm",[t.value?"p-4":"p-6"]])},[e("div",j,[e("div",L,[e("div",{class:s(["bg-green-100 rounded-full flex items-center justify-center",[t.value?"w-8 h-8":"w-10 h-10"]])},[e("span",{class:s(["",[t.value?"text-lg":"text-xl"]])}," 📈 ",2)],2)]),e("div",{class:s(["flex-1",[t.value?"ml-3":"ml-4"]])},[e("div",{class:s(["font-medium text-gray-500 uppercase tracking-wide",[t.value?"text-xs":"text-sm"]])}," Total Pemasukan ",2),e("div",{class:s(["font-bold text-green-600",[t.value?"text-lg":"text-xl"]])},l(u(a.summary.totalIncome)),3),a.summary.incomeChange!==0?(i(),r("div",{key:0,class:s(["text-green-600",[t.value?"text-xs":"text-sm"]])},l(a.summary.incomeChange>0?"▲":"▼")+" "+l(Math.abs(a.summary.incomeChange))+"% dari bulan lalu ",3)):o("",!0)],2)])],2),e("div",{class:s(["bg-red-50 border-l-4 border-red-500 rounded-lg shadow-sm",[t.value?"p-4":"p-6"]])},[e("div",A,[e("div",M,[e("div",{class:s(["bg-red-100 rounded-full flex items-center justify-center",[t.value?"w-8 h-8":"w-10 h-10"]])},[e("span",{class:s(["",[t.value?"text-lg":"text-xl"]])}," 📉 ",2)],2)]),e("div",{class:s(["flex-1",[t.value?"ml-3":"ml-4"]])},[e("div",{class:s(["font-medium text-gray-500 uppercase tracking-wide",[t.value?"text-xs":"text-sm"]])}," Total Pengeluaran ",2),e("div",{class:s(["font-bold text-red-600",[t.value?"text-lg":"text-xl"]])},l(u(a.summary.totalExpense)),3),a.summary.expenseChange!==0?(i(),r("div",{key:0,class:s(["text-red-600",[t.value?"text-xs":"text-sm"]])},l(a.summary.expenseChange>0?"▲":"▼")+" "+l(Math.abs(a.summary.expenseChange))+"% dari bulan lalu ",3)):o("",!0)],2)])],2),e("div",{class:s(["bg-blue-50 border-l-4 border-blue-500 rounded-lg shadow-sm",[t.value?"p-4":"p-6"]])},[e("div",E,[e("div",z,[e("div",{class:s(["bg-blue-100 rounded-full flex items-center justify-center",[t.value?"w-8 h-8":"w-10 h-10"]])},[e("span",{class:s(["",[t.value?"text-lg":"text-xl"]])}," 🏦 ",2)],2)]),e("div",{class:s(["flex-1",[t.value?"ml-3":"ml-4"]])},[e("div",{class:s(["font-medium text-gray-500 uppercase tracking-wide",[t.value?"text-xs":"text-sm"]])}," Saldo Bersih ",2),e("div",{class:s(["font-bold",[t.value?"text-lg":"text-xl",a.summary.netBalance>=0?"text-green-600":"text-red-600"]])},l(u(a.summary.netBalance)),3),e("div",{class:s(["",[t.value?"text-xs":"text-sm",a.summary.netBalance>=0?"text-green-600":"text-red-600"]])},l(a.summary.netBalance>=0?"✅ Surplus":"⚠️ Defisit"),3)],2)])],2)],2),a.incomeTransactions.length>0?(i(),r("div",K,[e("h3",{class:s(["font-bold text-gray-800 mb-4 flex items-center gap-2",[t.value?"text-lg":"text-xl"]])},[n[7]||(n[7]=e("span",null,"📈",-1)),c(" Daftar Pemasukan ("+l(a.incomeTransactions.length)+" transaksi) ",1)],2),e("div",V,[e("table",F,[e("thead",N,[e("tr",null,[e("th",{class:s(["text-left font-semibold text-gray-700 uppercase tracking-wider",[t.value?"px-3 py-2 text-xs":"px-6 py-3 text-sm"]])}," Tanggal ",2),e("th",{class:s(["text-left font-semibold text-gray-700 uppercase tracking-wider",[t.value?"px-3 py-2 text-xs":"px-6 py-3 text-sm"]])}," Kategori ",2),e("th",{class:s(["text-right font-semibold text-gray-700 uppercase tracking-wider",[t.value?"px-3 py-2 text-xs":"px-6 py-3 text-sm"]])}," Jumlah ",2),t.value?o("",!0):(i(),r("th",I," Sumber ")),t.value?o("",!0):(i(),r("th",H," Deskripsi "))])]),e("tbody",O,[(i(!0),r(b,null,f(a.incomeTransactions,d=>{var g,p;return i(),r("tr",{key:d.id},[e("td",{class:s(["whitespace-nowrap text-gray-900",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]])},l(y(d.date)),3),e("td",{class:s(["whitespace-nowrap text-gray-900",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]])},l(((g=d.category)==null?void 0:g.name)||"-"),3),e("td",{class:s(["whitespace-nowrap font-semibold text-green-600 text-right",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]])},l(u(d.amount)),3),t.value?o("",!0):(i(),r("td",U,l(((p=d.balance)==null?void 0:p.name)||"-"),1)),t.value?o("",!0):(i(),r("td",R,l(d.description||"-"),1))])}),128)),e("tr",J,[e("td",{class:s(["text-center",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]]),colspan:t.value?2:4}," TOTAL PEMASUKAN ",10,q),e("td",{class:s(["text-right font-bold text-green-600",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]])},l(u(a.summary.totalIncome)),3),t.value?o("",!0):(i(),r("td",G))])])])])])):o("",!0),a.expenseTransactions.length>0?(i(),r("div",W,[e("h3",{class:s(["font-bold text-gray-800 mb-4 flex items-center gap-2",[t.value?"text-lg":"text-xl"]])},[n[8]||(n[8]=e("span",null,"📉",-1)),c(" Daftar Pengeluaran ("+l(a.expenseTransactions.length)+" transaksi) ",1)],2),e("div",Y,[e("table",Q,[e("thead",X,[e("tr",null,[e("th",{class:s(["text-left font-semibold text-gray-700 uppercase tracking-wider",[t.value?"px-3 py-2 text-xs":"px-6 py-3 text-sm"]])}," Tanggal ",2),e("th",{class:s(["text-left font-semibold text-gray-700 uppercase tracking-wider",[t.value?"px-3 py-2 text-xs":"px-6 py-3 text-sm"]])}," Kategori ",2),e("th",{class:s(["text-right font-semibold text-gray-700 uppercase tracking-wider",[t.value?"px-3 py-2 text-xs":"px-6 py-3 text-sm"]])}," Jumlah ",2),t.value?o("",!0):(i(),r("th",Z," Sumber ")),t.value?o("",!0):(i(),r("th",$," Deskripsi "))])]),e("tbody",_,[(i(!0),r(b,null,f(a.expenseTransactions,d=>{var g,p;return i(),r("tr",{key:d.id},[e("td",{class:s(["whitespace-nowrap text-gray-900",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]])},l(y(d.date)),3),e("td",{class:s(["whitespace-nowrap text-gray-900",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]])},l(((g=d.category)==null?void 0:g.name)||"-"),3),e("td",{class:s(["whitespace-nowrap font-semibold text-red-600 text-right",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]])},l(u(d.amount)),3),t.value?o("",!0):(i(),r("td",ee,l(((p=d.balance)==null?void 0:p.name)||"-"),1)),t.value?o("",!0):(i(),r("td",te,l(d.description||"-"),1))])}),128)),e("tr",se,[e("td",{class:s(["text-center",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]]),colspan:t.value?2:4}," TOTAL PENGELUARAN ",10,ae),e("td",{class:s(["text-right font-bold text-red-600",[t.value?"px-3 py-2 text-xs":"px-6 py-4 text-sm"]])},l(u(a.summary.totalExpense)),3),t.value?o("",!0):(i(),r("td",le))])])])])])):o("",!0),a.incomeTransactions.length===0&&a.expenseTransactions.length===0?(i(),r("div",ne,[n[9]||(n[9]=e("div",{class:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),n[10]||(n[10]=e("h3",{class:"text-lg font-medium text-gray-700 mb-2"},"Tidak Ada Data",-1)),e("p",re,"Belum ada transaksi untuk periode "+l(a.monthLabel),1)])):o("",!0),e("div",{class:s(["mt-12 pt-6 border-t border-gray-200 text-center text-gray-500",[t.value?"text-xs":"text-sm"]])},[n[11]||(n[11]=e("div",null,[e("strong",null,"SmartBook Keeper"),c(" - Sistem Pengelolaan Keuangan Digital")],-1)),e("div",ie,"© "+l(new Date().getFullYear())+" SmartBook Keeper. Dokumen ini bersifat rahasia dan hanya untuk penggunaan internal.",1)],2)],2)]))}};export{de as default};
